(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf06f490"],{2934:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s}));var l=r("b775");function a(){return Object(l["a"])({url:"/v1/village/list",method:"post"})}function o(){return Object(l["a"])({url:"/v1/position/query",method:"post"})}function s(e){return Object(l["a"])({url:"/v1/villageGroup/list",method:"post",data:e})}},"7b9a":function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-card",{staticClass:"box-card"},[r("div",{attrs:{slot:"header"},slot:"header"},[r("span",[e._v("新建账户")])]),r("div",{staticClass:"addAccount-main"},[r("el-card",{staticClass:"box-card-addAccount",staticStyle:{"margin-right":"1%"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("基本信息")])]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"账号",prop:"accountNo"}},[r("el-input",{attrs:{placeholder:"请输入账号"},model:{value:e.ruleForm.accountNo,callback:function(t){e.$set(e.ruleForm,"accountNo",t)},expression:"ruleForm.accountNo"}})],1),r("el-form-item",{attrs:{label:"姓名",prop:"accountName"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.ruleForm.accountName,callback:function(t){e.$set(e.ruleForm,"accountName",t)},expression:"ruleForm.accountName"}})],1),r("el-form-item",{attrs:{label:"电话",prop:"phone"}},[r("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}})],1),r("el-form-item",{attrs:{label:"职务",prop:"rule"}},[r("el-input",{attrs:{placeholder:"请输入职务"},model:{value:e.ruleForm.rule,callback:function(t){e.$set(e.ruleForm,"rule",t)},expression:"ruleForm.rule"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.ruleForm.email,callback:function(t){e.$set(e.ruleForm,"email",t)},expression:"ruleForm.email"}})],1),r("el-form-item",{attrs:{label:"备注",prop:"description"}},[r("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1),r("el-form-item",[r("el-button",{staticStyle:{width:"100%",background:"#20a0ff"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保存")])],1)],1)],1),r("el-card",{staticClass:"box-card-addAccount"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("span",[e._v("权限设置")])]),r("div",{staticClass:"radio_check"},[r("el-form",{attrs:{"label-width":"100px",model:e.authForm}},[r("el-form-item",{attrs:{label:"所辖乡镇"}},[r("el-checkbox-group",{model:{value:e.authForm.manageVillages,callback:function(t){e.$set(e.authForm,"manageVillages",t)},expression:"authForm.manageVillages"}},e._l(e.townLists,(function(t,l){return r("el-checkbox",{key:"town"+l,attrs:{label:t.townshipId,name:"type"}},[e._v(e._s(t.townshipName))])})),1)],1),r("el-form-item",{attrs:{label:"活动区域"}},[r("p",{staticStyle:{margin:"0"}},[e._v(" 目前共计选中"+e._s(e.villageList.length)+"个村庄！ "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.showDrawer=!e.showDrawer}}},[e._v("查看详情")])],1)]),r("el-form-item",{attrs:{label:"活动形式"}},[r("el-checkbox-group",{model:{value:e.authForm.accountGroupId,callback:function(t){e.$set(e.authForm,"accountGroupId",t)},expression:"authForm.accountGroupId"}},e._l(e.group,(function(t,l){return r("el-checkbox",{key:l,attrs:{label:t.accountGroupId,name:"type"}},[e._v(e._s(t.accountGroupName))])})),1)],1)],1)],1)]),r("el-drawer",{attrs:{direction:"ltr",visible:e.showDrawer},on:{"update:visible":function(t){e.showDrawer=t}}},[r("p",{attrs:{slot:"title"},slot:"title"},[e._v("所辖村庄")]),r("el-checkbox-group",{staticClass:"custom-check",model:{value:e.villageModel,callback:function(t){e.villageModel=t},expression:"villageModel"}},e._l(e.villageList,(function(t,l){return r("el-checkbox",{key:"town"+l,attrs:{label:t.villageId,name:"type"}},[e._v(e._s(t.villageName))])})),1)],1)],1)])},a=[],o=(r("bd11"),r("5723"),r("2934")),s={name:"AccountAdminAdd",data:function(){return{showDrawer:!1,group:["超级管理员","超级管理员","超级管理员","超级管理员"],ruleForm:{},authForm:{manageVillages:[],accountGroupId:[]},townLists:[],villageList:[],villageModel:[],rules:{accountNo:[{required:!0,message:"账户名不能为空",trigger:"blur"},{min:3,max:100,message:"长度在 3 到 5 个字符",trigger:"blur"}],accountName:[{required:!0,message:"姓名不能为空",trigger:"blur"},{min:3,max:100,message:"长度在 2 到 10 个字符",trigger:"blur"}],phone:[{required:!0,message:"电话不能为空",trigger:"blur"},{min:11,max:11,message:"号码长度要为11",trigger:"blur"}]}}},created:function(){this.getVillageList()},methods:{getVillageList:function(){var e=this;Object(o["a"])().then((function(t){e.townLists=t.data.townshipInfos||[]}))},submitForm:function(e){this.$store.dispatch("addAccount",this.ruleForm)}}},i=s,n=(r("fb7f"),r("2877")),c=Object(n["a"])(i,l,a,!1,null,"56525e8e",null);t["default"]=c.exports},db0f:function(e,t,r){},fb7f:function(e,t,r){"use strict";var l=r("db0f"),a=r.n(l);a.a}}]);