(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-538646bd"],{"1e8b":function(t,e,a){},3277:function(t,e,a){"use strict";var r=a("1e8b"),n=a.n(r);n.a},"4ad1":function(t,e,a){},"4b94":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-page"},[a("back"),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.basicInfo.address)+" 户 "+t._s(t.basicInfo.familyNo)+" ("+t._s(t.basicInfo.name)+") "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"text"},on:{click:t.addMember}},[t._v("新增家庭成员")])],1),a("div",{staticStyle:{padding:"10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"header-cell-class-name":"table-header-color",data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"memberName",label:"成员"}}),a("el-table-column",{attrs:{prop:"relationship",label:"与户主关系"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别"}}),a("el-table-column",{attrs:{prop:"idCard",label:"身份证号"}}),a("el-table-column",{attrs:{prop:"birthDate",label:"出生日期"}}),a("el-table-column",{attrs:{prop:"currentAddress",label:"现居住地"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleEdit("edit",e.row.memberId)}}},[t._v("变更")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleEdit("detail",e.row.memberId)}}},[t._v("详情")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.deleteMember(e.row)}}},[t._v("注销")])]}}])})],1)],1)]),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t._v(" "+t._s(t.basicInfo.address)+" 户 "+t._s(t.basicInfo.familyNo)+" ("+t._s(t.basicInfo.name)+") "),a("el-tag",{attrs:{type:"success",size:"mini"}},[t._v("变更记录")])],1)]),a("el-dialog",{attrs:{title:"关系变更",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{attrs:{"label-width":"80px",model:t.formLabelAlign}},t._l(t.tableData,(function(e,r){return a("el-form-item",{key:e.memberId,attrs:{label:e.memberName}},[a("el-select",{attrs:{filterable:"",placeholder:"更新关系"},model:{value:t.form[r],callback:function(e){t.$set(t.form,r,e)},expression:"form[index]"}},t._l(t.relationshipList,(function(t){return a("el-option",{key:t.relationshipId,attrs:{label:t.relationshipName,value:t.relationshipId}})})),1)],1)})),1),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.makeSureCancle(t.form.memberId)}}},[t._v("确 定")])],1)],1)},n=[],i=(a("99af"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-item-box"},[a("span",{style:{display:"inline-block",width:t.labelWidth+"px"}},[t.required?a("span",{staticStyle:{color:"#f56c6c"}},[t._v("*")]):t._e(),t._v(" "+t._s(t.label)+" ")]),t._t("default")],2)}),s=[],l=(a("a9e3"),a("2f62"),{name:"Dashboard",props:{label:String,labelWidth:{type:Number,default:100},required:Boolean}}),o=l,c=(a("3277"),a("2877")),u=Object(c["a"])(o,i,s,!1,null,"0679a4c4",null),d=u.exports,f=a("66b7"),b=a("8194"),m={name:"OrganizationDetail",components:{FormItemLayout:d,Back:f["a"]},data:function(){return{tableData:[{index:1,code:12,name:"zhanah",represent:"sdasas",address:"lallallal",createdDate:"2018-09-29"}],basicInfo:{},assetData:[{totlaAsset:78999999,shareHolder:222,stockTotal:56454,stockTotalPrice:56454,groupStockCount:4343,groupStockPrice:6343,perStockPrice:322}],stockRightData:[{type:"贡献股",price:"1.0"},{type:"贡献股",price:"1.0"},{type:"爱新股",price:"1.0"}],form:{total:1222,distribute:[{type:"",coefficient:1}]},typeList:[{label:"kakkak",value:"ssss"}],dialogVisible:!1,relationshipList:[]}},created:function(){this.basicInfo={address:this.$route.query.village,name:this.$route.query.name,familyNo:this.$route.query.familyNo},this.getFamilyMember(),this.getRelationList()},methods:{handleEdit:function(t,e){this.$router.push("/member/edit?isEdit=".concat(t,"&memberId=").concat(e,"&familyCount=").concat(this.basicInfo.familyNo))},addMember:function(){var t=this.$route.query.id;this.$router.push("/member/edit?isEdit=addMember&id=".concat(t,"&familyCount=").concat(this.basicInfo.familyNo))},goDetail:function(){this.$router.push("/member/detail")},deleteMember:function(t){var e=t.memberId;1===t.relationship&&this.tableData.length>1?this.dialogVisible=!0:this.cancleMember(e)},cancleMember:function(t){var e=this;Object(b["b"])({memberId:t}).then((function(t){e.$message({type:"success",message:"操作成功！"}),e.getFamilyMember()}))},makeSureCancle:function(t){this.$message({type:"warning",message:"暂不能修改"})},getFamilyMember:function(){var t=this,e=this.$route.query.id;Object(b["e"])({familyId:e}).then((function(e){t.tableData=e.data.memberInfos}))},getRelationList:function(t){var e=this;Object(b["h"])({villageId:t}).then((function(t){e.relationshipList=t.data.relationshipInfos||[]}))}}},h=m,p=(a("9a34"),a("6c6f"),Object(c["a"])(h,r,n,!1,null,"51d006e9",null));e["default"]=p.exports},"66b7":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"back-container"},[a("span",{staticClass:"custom-back",on:{click:t.goBack}},[a("i",{staticClass:"el-icon-back ",on:{click:t.goBack}}),t._v("返回 ")])])},n=[],i=(a("2f62"),{name:"Back",methods:{goBack:function(){history.back()}}}),s=i,l=(a("8ccd"),a("2877")),o=Object(l["a"])(s,r,n,!1,null,"1a422e96",null);e["a"]=o.exports},"68d2":function(t,e,a){},"6c6f":function(t,e,a){"use strict";var r=a("9352"),n=a.n(r);n.a},8194:function(t,e,a){"use strict";a.d(e,"i",(function(){return n})),a.d(e,"f",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return l})),a.d(e,"e",(function(){return o})),a.d(e,"g",(function(){return c})),a.d(e,"h",(function(){return u})),a.d(e,"j",(function(){return d})),a.d(e,"b",(function(){return f})),a.d(e,"a",(function(){return b}));var r=a("b775");function n(t){return Object(r["a"])({url:"/v1/family/search",method:"post",data:t})}function i(t){return Object(r["a"])({url:"/v1/family/members",method:"post",data:t})}function s(t){return Object(r["a"])({url:"/v1/family/save",method:"post",data:t})}function l(t){return Object(r["a"])({url:"/v1/member/detail",method:"post",data:t})}function o(t){return Object(r["a"])({url:"/v1/family/members",method:"post",data:t})}function c(t){return Object(r["a"])({url:"/v1/member/detail",method:"post",data:t})}function u(t){return Object(r["a"])({url:"/v1/relationship/query",method:"post",data:t})}function d(t){return Object(r["a"])({url:"/v1/member/update",method:"post",data:t})}function f(t){return Object(r["a"])({url:"/v1/member/cancel",method:"post",data:t})}function b(t){return Object(r["a"])({url:"/v1/member/save",method:"post",data:t})}},"8ccd":function(t,e,a){"use strict";var r=a("4ad1"),n=a.n(r);n.a},9352:function(t,e,a){},"9a34":function(t,e,a){"use strict";var r=a("68d2"),n=a.n(r);n.a},a9e3:function(t,e,a){"use strict";var r=a("83ab"),n=a("da84"),i=a("94ca"),s=a("6eeb"),l=a("5135"),o=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),f=a("7c73"),b=a("241c").f,m=a("06cf").f,h=a("9bf2").f,p=a("58a8").trim,v="Number",y=n[v],g=y.prototype,I=o(f(g))==v,k=function(t){var e,a,r,n,i,s,l,o,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=p(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+c}for(i=c.slice(2),s=i.length,l=0;l<s;l++)if(o=i.charCodeAt(l),o<48||o>n)return NaN;return parseInt(i,r)}return+c};if(i(v,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var _,N=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof N&&(I?d((function(){g.valueOf.call(a)})):o(a)!=v)?c(new y(k(e)),a,N):k(e)},x=r?b(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;x.length>E;E++)l(y,_=x[E])&&!l(N,_)&&h(N,_,m(y,_));N.prototype=g,g.constructor=N,s(n,v,N)}}}]);